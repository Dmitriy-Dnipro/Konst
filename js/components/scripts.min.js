(function ($) {
    $.noConflict();
})(jQuery);
(function ($) {
    $(document).ready(function() {
        $("#text-item1").addClass("hover");
        $(".nav-icon").click(function() {
            $(this).toggleClass("open"), $(".main-mob").toggleClass("open-menu"), $("body").toggleClass("disable-scroll"), $(".header").toggleClass("default")
        }), $(".nav-icon-second").click(function() {
            $(this).toggleClass("open"), $(".second-mob").toggleClass("open-menu"), $("body").toggleClass("disable-scroll")
        }), $(".search-hdr-btn").click(function() { 
            $(this).toggleClass("open"), $(".header__search").toggleClass("active")
        }), $(".phones-hdr-btn").click(function() { 
            $(this).toggleClass("open"), $(".header__phones").toggleClass("active")
        }), $("#text-item1").mouseenter(function() {
            $("#main-bl-img1").addClass("hover")
            $("#text-item1").addClass("hover")
        }).mouseleave(function() {
            $("#main-bl-img1").removeClass("hover")
        }), $("#text-item2").mouseenter(function() {
            $("#main-bl-img2").addClass("hover")
            $("#text-item1").removeClass("hover")
        }).mouseleave(function() {
            $("#main-bl-img2").removeClass("hover")
            $("#text-item1").addClass("hover")
        }), $("#text-item3").mouseenter(function() {
            $("#main-bl-img3").addClass("hover")
            $("#text-item1").removeClass("hover")
        }).mouseleave(function() {
            $("#main-bl-img3").removeClass("hover")
            $("#text-item1").addClass("hover")
        }), $("#text-item4").mouseenter(function() {
            $("#main-bl-img4").addClass("hover")
            $("#text-item1").removeClass("hover")
        }).mouseleave(function() {
            $("#text-item1").addClass("hover")
            $("#main-bl-img4").removeClass("hover")
        }), $("#text-item5").mouseenter(function() {
            $("#main-bl-img5").addClass("hover")
            $("#text-item1").removeClass("hover")
        }).mouseleave(function() {
            $("#text-item1").addClass("hover")
            $("#main-bl-img5").removeClass("hover")
        }), $("#text-item6").mouseenter(function() {
            $("#main-bl-img6").addClass("hover")
            $("#text-item1").removeClass("hover")
        }).mouseleave(function() {
            $("#text-item1").addClass("hover")
            $("#main-bl-img6").removeClass("hover")
        }), $("#text-item7").mouseenter(function() {
            $("#main-bl-img7").addClass("hover")
            $("#text-item1").removeClass("hover")
        }).mouseleave(function() {
            $("#text-item1").addClass("hover")
            $("#main-bl-img7").removeClass("hover")
        }), $("#text-item8").mouseenter(function() {
            $("#main-bl-img8").addClass("hover")
            $("#text-item1").removeClass("hover")
        }).mouseleave(function() {
            $("#text-item1").addClass("hover")
            $("#main-bl-img8").removeClass("hover")
        }), $(".work-way__slider").slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: !1,
            fade: !0,
            asNavFor: ".work-way__slider-nav, .work-way__links-wrp"
        }), $(".work-way__slider-nav").slick({
            slidesToShow: 4,
            slidesToScroll: 1,
            asNavFor: ".work-way__slider, .work-way__links-wrp",
            dots: false,
            focusOnSelect: !0
        }), $(".work-way__links-wrp").slick({
            vertical: true,
            slidesToShow: 5,
            slidesToScroll: 1,
            asNavFor: ".work-way__slider, .work-way__slider-nav",
            dots: false,
            focusOnSelect: true,
            swipe: true,
            verticalSwiping: true,
            nextArrow: '<i class="fas fa-angle-down"></i>',
            prevArrow: '<i class="fas fa-angle-up"></i>',
            breakpoints: {
                1025: {
                    slidesPerView: 3,
                    slidesPerColumn: 2
                }
            }
        });
        new Swiper(".partner-slider", {
            slidesPerView: 4,
            slidesPerColumn: 2,
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev"
            },
            breakpoints: {
                500: {
                    slidesPerView: 3,
                    slidesPerColumn: 2
                }
            }
        });
        $(".counter").each(function() {

            var $win = $(window);
            var $marker = $('#we-numbers');

            var e = $(this),
            o = e.attr("data-count");

        //отслеживаем событие прокрутки страницы
        $win.scroll(function() {

          //Складываем значение прокрутки страницы и высоту окна, этим мы получаем положение страницы относительно нижней границы окна, потом проверяем, если это значение больше, чем отступ нужного элемента от верха страницы, то значит элемент уже появился внизу окна, соответственно виден
          if($win.scrollTop() + $win.height() >= $marker.offset().top) {
            $({
                countNum: e.text()
            }).animate({
                countNum: o
            }, {
                duration: 3e3,
                easing: "linear",
                step: function() {
                    e.text(Math.floor(this.countNum))
                },
                complete: function() {
                    e.text(this.countNum)
                }
            })
        } 
    });        
    }), $("a[href='#top']").click(function() {
        return $("html, body").animate({
            scrollTop: 0
        }, "slow"), !1
    }),$('.slider').slick({
        dots: false,
        vertical: true,
        slidesToShow: 4,
        slidesToScroll: 4,
        verticalSwiping: true,
        nextArrow: '<i class="fas fa-chevron-circle-down"></i>',
        prevArrow: '<i class="fas fa-chevron-circle-up"></i>',
    });

    $('.advantages-block__slider .slider-for').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false,
        fade: true,
        asNavFor: '.slider-nav',
        autoplay: true
    });
    $('.advantages-block__slider .slider-nav').slick({
        slidesToShow: 4,
        slidesToScroll: 1,
        asNavFor: '.slider-for',
        dots: false,
        centerMode: true,
        focusOnSelect: true,
        prevArrow: '<div class="slick-prev"><i class="fas fa-angle-left"></i></div>',
        nextArrow: '<div class="slick-next"><i class="fas fa-angle-right"></i></div>',
        responsive: [
        {
            breakpoint: 991,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 1,
                infinite: true,
                dots: false
            }
        }
        ]
    });


    $('#relized-projects-slider .slider-for').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false,
        fade: true,
        asNavFor: '.slider-nav',
        autoplay: false,
    });
    $('#relized-projects-slider .slider-nav').slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        asNavFor: '.slider-for',
        dots: false,
        centerMode: false,
        focusOnSelect: true,
        prevArrow: '<div class="prev"><i class="fas fa-chevron-left"></i></div>',
        nextArrow: '<div class="next"><i class="fas fa-chevron-right"></i></div>',
        responsive: [
        {
            breakpoint: 1199,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 1,
                infinite: true,
                dots: false
            }
        }
        ]
    });

    $('#relized-projects-withoutlogo-block .slider-for').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false,
        fade: true,
        asNavFor: '#relized-projects-withoutlogo-block .slider-nav',
        autoplay: true
    });
    $('#relized-projects-withoutlogo-block .slider-nav').slick({
        slidesToShow: 4,
        slidesToScroll: 1,
        asNavFor: '#relized-projects-withoutlogo-block .slider-for',
        dots: false,
        centerMode: true,
        focusOnSelect: true,
        prevArrow: '<div class="prev"><i class="fas fa-chevron-left"></i></div>',
        nextArrow: '<div class="next"><i class="fas fa-chevron-right"></i></div>',
        responsive: [
        {
            breakpoint: 1199,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 1,
                infinite: true,
                dots: false
            }
        },
        {
            breakpoint: 991,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 1,
                infinite: true,
                dots: false
            }
        }
        ]
    });

    $('.reviews-block__slider .slider-for').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false,
        fade: true,
        asNavFor: '.slider-nav',
        autoplay: true
    });
    $('.reviews-block__slider .slider-nav').slick({
        slidesToShow: 4,
        slidesToScroll: 1,
        asNavFor: '.slider-for',
        dots: false,
        centerMode: true,
        focusOnSelect: true,
        prevArrow: '<div class="slick-prev"><i class="fas fa-angle-left"></i></div>',
        nextArrow: '<div class="slick-next"><i class="fas fa-angle-right"></i></div>',
        responsive: [
        {
            breakpoint: 1100,
            settings: {
                slidesToShow: 4,
                slidesToScroll: 1,
                infinite: true,
                dots: false
            }
        },
        {
            breakpoint: 990,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 1,
                infinite: true,
                dots: false
            }
        }
        ]
    });

    $('.vertical-slider-images').slick({
        slidesToShow: 3, 
        slidesToScroll: 1,
        autoplay: false,
        autoplaySpeed: 1500,
        infinite:true,
        arrows: true,
        prevArrow: '<div class="slick-prev"><i class="fas fa-angle-left"></i></div>',
        nextArrow: '<div class="slick-next"><i class="fas fa-angle-right"></i></div>',
        dots: false,
        pauseOnHover: false,
        responsive: [{
            breakpoint: 1200,
            settings: {
                slidesToShow: 3
            }
        }, {
            breakpoint: 1100,
            settings: {
                slidesToShow: 2
            },
        } ,{
            breakpoint: 421,
            settings: {
                slidesToShow: 3
            },
        }]
    });

    $('.product-images').slick({
        dots: true,
        infinite: true,
        speed: 500,
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: false,
        autoplaySpeed: 2000,
        arrows: false,
        responsive: [{
          breakpoint: 600,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1
        }
    },
    {
     breakpoint: 400,
     settings: {
      arrows: false,
      slidesToShow: 1,
      slidesToScroll: 1
  }
}]
});
    $('#product-images').click(function(){   
        $(".product-images").slick('slickSetOption', 'adaptiveHeight', true, true);
    });


    $('#landing-menu-swipe').slick({
        dots: false,
        infinite: false,
        slidesToShow: 2,
        slidesToScroll: 2,
        nextArrow: '<div class="next"><i class="fas fa-chevron-right"></i></div>',
        prevArrow: '<div class="prev"><i class="fas fa-chevron-left"></i></div>',
    });


    /* Animate scroll Landing Menu*/
    $(function() {
      $('.landing-menu  a[href*=#]').on('click', function(e) {
        e.preventDefault();
        $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top}, 500, 'linear');
    });
  });

    /* get visible block on screen*/
    $(window).scroll(function(e){
        let currentElement = '';
        $('section').each(function(){
            if(isScrolledIntoView($(this))){
                let elementId = $(this).attr('id');
                $('.landing-menu a').removeClass('active');

                if (elementId !== currentElement) 
                {
                    currentElement = elementId;
                    $('.landing-menu a[href^="#' + currentElement + '"]').addClass('active');
                }           
            }
        });
    });

    function isScrolledIntoView(elem){
        var $elem = $(elem);
        var $window = $(window);

        var docViewTop = $window.scrollTop();
        var docViewBottom = docViewTop + $window.height();

        var elemTop = $elem.offset().top;
        var elemBottom = elemTop + $elem.height();

        return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
    }

    (function () {
        if ($('.landing-menu').length > 0) {
            let toLandingMenuHeight = $('.landing-menu').offset().top;

            $(window).on("scroll", function() {
                if ($(window).scrollTop() > toLandingMenuHeight) {
                    $('.landing-menu').addClass('fixed');
                }

                else if ($(window).scrollTop() < toLandingMenuHeight) $('.landing-menu').removeClass('fixed');
            });
        }
    })();

});


function readMore(element, lineCount) {
    $(element).moreLines({
        linecount: lineCount,

        baseclass: 'b-description',
        basejsclass: 'js-description',
        classspecific: '_readmore',

        buttontxtmore: `<div class='about-block__more'>${langvars.read_more_show} <i class='fas fa-angle-down'></i></div>`,
        buttontxtless: `<div class="about-block__more">${langvars.read_more_hide} <i class="fas fa-angle-up"></i></div>`,

        // animation speed in milliseconds
        animationspeed: 250
    });
};
$(window).bind("ready", readMore());
$(window).bind("resize", readMore());

readMore($('#seo-text'), 4);
readMore($('.about-block__text'), 4); 
readMore($('#calculator-block'), 3); 

})(jQuery);

/* Phones click event */
(function ($) {
    $.fn.tclick = function (onclick) {
        this.bind("touchstart", function (e) { 
          onclick.call(this, e); 
          $('.numbers_mob').toggleClass('active', '');
          e.stopPropagation(); 
          e.preventDefault(); 
      });
        this.bind("click", function (e) { 
          onclick.call(this, e); 
          console.log('click') 
        });   //substitute mousedown event for exact same result as touchstart         
        return this;
    };
})(jQuery);


/* ------ MENU scripts ------ */
(function($){
    var menu = $('.main-menu__categories');

    /* Add arrows */
    if(menu.find('li')) {
        var allLiElements = menu.find('li');

        allLiElements.map((index, elem) => {

            var found = elem.getElementsByClassName('sub-menu');

            if (found.length !== 0){
                var element = $(elem);
                var content = element[0].firstChild.innerHTML;
                element.find(' > a').after('<div class="arr " ><i class="fas fa-angle-down"></i></div>');
            }
        });
    }

    /* Add classes for build structure */
    $('#menu-top-categories > li, #menu-top-categories-ua > li, #menu-top-categories-en > li').addClass('main-menu__item row');
    $('#menu-top-categories > li > a, #menu-top-categories-ua > li > a, #menu-top-categories-en > li > a').addClass('col-lg-3 col-md-3');
    $('#menu-top-categories > li > ul, #menu-top-categories-ua > li > ul, #menu-top-categories-en > li > ul').addClass('col-lg-9 col-md-9 row'); 
    $('#menu-top-categories > li > ul > li, #menu-top-categories-ua > li > ul > li, #menu-top-categories-en > li > ul > li').addClass('col-lg-4 col-md-4');
    $('#menu-top-categories > li > ul > li > ul, #menu-top-categories-ua > li > ul > li > ul, #menu-top-categories-en > li > ul > li > ul').addClass('subsub-menu');

    $('.menu-top-categories-container #menu-top-categories .subsub-menu, .menu-top-categories-ua-container #menu-top-categories-ua .subsub-menu, .menu-top-categories-en-container #menu-top-categories-en .subsub-menu').hide();

    $('.menu-top-categories-container > #menu-top-categories, .menu-top-categories-ua-container > #menu-top-categories-ua, .menu-top-categories-en-container > #menu-top-categories-en').on('click', '.arr', (e) => {

            //$('#' + e.currentTarget.parentNode.id + ' ul').toggle();
            //console.log();
            //$('#' + e.currentTarget.parentNode.id + ' ul .subsub-menu').slideToggle();
            //$('#' + e.currentTarget.parentNode.id + ' ul .subsub-menu').hide();

            $('#' + e.currentTarget.parentNode.id + ' > ul').slideToggle('slow');

            //$('#' + e.currentTarget.parentNode.id + ' ul .subsub-menu').hide();

            e.preventDefault();    
        });
    
})(jQuery);
/* ------ EOF MENU scripts ------ */




/* Reviews readmore click */
(function ($) {
    $('#review-readmore').live('click', function(e) {
        var img = $(e.currentTarget).attr('data-img');
        $("#review-image-fbox").attr('src', img);

    });



    $('.application_industries_slider').on('init reInit afterChange', function(event, slick, currentSlide, nextSlide){
        var i = (currentSlide ? currentSlide : 0) + 1;
        $('.application_industries_slider .counter-slider').text(i + '/' + slick.slideCount);
    });
    $('.application_industries_slider').slick({
        dots: false,
        vertical: true,
        focusOnSelect: true,
        slidesToShow: 4,
        slidesToScroll: 1,
        verticalSwiping: true,
        nextArrow: '<div class="next"><i class="fas fa-chevron-down"></i></div>',
        prevArrow: '<div class="prev"><i class="fas fa-chevron-up"></i><span class="counter-slider"></span></div>',
        responsive: [
        {
            breakpoint: 768,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 3,
                infinite: true,
                dots: false
            }
        },
        {
            breakpoint: 480,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 3,
                infinite: true,
                dots: false
            }
        }
        ]
    });










    $('#otrasli-slider').on('init reInit afterChange', function(event, slick, currentSlide, nextSlide){
        var i = (currentSlide ? currentSlide : 0) + 1;
        $('#otrasli-slider .counter-slider').text(i + '/' + slick.slideCount);
    });
    $('#otrasli-slider').slick({
        dots: false,
        vertical: false,
        focusOnSelect: true,
        slidesToShow: 2,
        slidesToScroll: 1,
        verticalSwiping: true,
        nextArrow: '<div class="next"><i class="fas fa-chevron-right"></i></div>',
        prevArrow: '<div class="prev"><span class="counter-slider"></span></div>',
        responsive: [
        {
            breakpoint: 768,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2,
                infinite: true,
                dots: false
            }
        },
        {
            breakpoint: 480,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2,
                infinite: true,
                dots: false
            }
        }
        ]
    });

    $('.otrasli-page .links #otrasli-slider .slick-slide a').click(function () { $("body").load(window.location.href); });






    let images = $('.main-bl-img__wrp');
    $('#main-bl-img1').css('opacity', '1');
    
    $('.main-bl-text__item').hover(function() {

        let id = $(this).attr('id');
        idNumber = id.match(/\d+/g);

        $('#main-bl-img1').css('opacity', '0');
        $('#main-bl-img' + idNumber).css('opacity', '1');
        
    }).mouseout(function () {
       let id = $(this).attr('id');
       idNumber = id.match(/\d+/g);

       $('#main-bl-img1').css('opacity', '1');
       ('#main-bl-img' + idNumber !== '#main-bl-img1') ? $('#main-bl-img' + idNumber).css('opacity', '0') : false;

   });

    $('.main-bl-text-8__item').hover(function() {

        let id = $(this).attr('id');
        idNumber = id.match(/\d+/g);

        $('#main-bl-img1').css('opacity', '0');
        $('#main-bl-img' + idNumber).css('opacity', '1');
        
    }).mouseout(function () {
       let id = $(this).attr('id');
       idNumber = id.match(/\d+/g);

       $('#main-bl-img1').css('opacity', '1');
       ('#main-bl-img' + idNumber !== '#main-bl-img1') ? $('#main-bl-img' + idNumber).css('opacity', '0') : false;

   });

    $('.spare_parts_slider').slick({
        dots: false,
        vertical: true,
        focusOnSelect: true,
        slidesToShow: 4,
        slidesToScroll: 1,
        verticalSwiping: true,
        nextArrow: '<div class="next"><i class="fas fa-chevron-down"></i></div>',
        prevArrow: '<div class="prev"><i class="fas fa-chevron-up"></i><span class="counter-slider"></span></div>',
        responsive: [
        {
            breakpoint: 480,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 3,
                infinite: true,
                dots: false
            }
        }
        ]
    });


    $('#horizontal-focus-center-element-slider').slick({
        centerMode: true,
        focusOnSelect: true,
        slidesToShow: 3, 
        slidesToScroll: 1,
        autoplay: false,
        autoplaySpeed: 1500,
        arrows: false,
        dots: true,
        responsive: [{
            breakpoint: 1200,
            settings: {
                slidesToShow: 3
            }
        }, {
            breakpoint: 768,
            settings: {
                slidesToShow: 2
            },
        } ]
    });

})(jQuery);




/* ------ Calculator scripts ------*/
(function ($) {
    /*$('#open-calc-button').click(function () {
        $('.calculator-block__image').css('opacity', '0')
    });*/
    var card = document.querySelector('.card');
    $('.open-calc-button').click( function(event) {
        event.stopImmediatePropagation();
        card.classList.toggle('is-flipped');
    });
    /*$('.filter-results').on('load change', () => {
        if ( $('.filter') ) {
            $('.filter').toggle('show')
        }
    });*/
})(jQuery);
/* ------ Calculator scripts EOF ------*/


/* Down button animation */
(function ($) {
    $(function() {
      $('.down-button[href*=#]').on('click', function(e) {
        e.preventDefault();
        $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top}, 500, 'linear');
    });
  });
})(jQuery);
/* Down button animation EOF*/


/* To calc button animation */
(function ($) {
    $(function() {
        $('#go-to-calc[href*=#]').on('click', function(e) {
            e.preventDefault();
            $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top}, 500, 'linear');
        });
        $('#fb-block-id[href*=#]').on('click', function(e) {
            e.preventDefault();
            $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top}, 500, 'linear');
        });
    });
})(jQuery);
/* To calc button animation EOF*/


( function ($) {
    if ( $('video').length > 0) {
        $('.modal').click( function () {
            $('video')[0].pause();
        });
    }

    if ( $('video').length > 0) {
        $('.about-block__video').click( function () {
            //$('video').attr('autoplay', 'true');
            $('video')[0].play();
        });
    };
    

    
    //$("#phone").intlTelInput({
          // allowDropdown: false,
          // autoHideDialCode: false,
          // autoPlaceholder: "off",
          // dropdownContainer: document.body,
          // excludeCountries: ["us"],
          // formatOnDisplay: false,
          // geoIpLookup: function(callback) {
          //   $.get("http://ipinfo.io", function() {}, "jsonp").always(function(resp) {
          //     var countryCode = (resp && resp.country) ? resp.country : "";
          //     callback(countryCode);
          //   });
          // },
          // hiddenInput: "full_number",
          // initialCountry: "auto",
          // localizedCountries: { 'de': 'Deutschland' },
          // nationalMode: false,
          // onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
          // placeholderNumberType: "MOBILE",
           //preferredCountries: ['ua', 'ru', 'by'],
           //separateDialCode: true,
          //utilsScript: "build/js/utils.js",
    //});
    //$("#phone-spec").intlTelInput({
          // allowDropdown: false,
          // autoHideDialCode: false,
          // autoPlaceholder: "off",
          // dropdownContainer: document.body,
          // excludeCountries: ["us"],
          // formatOnDisplay: false,
          // geoIpLookup: function(callback) {
          //   $.get("http://ipinfo.io", function() {}, "jsonp").always(function(resp) {
          //     var countryCode = (resp && resp.country) ? resp.country : "";
          //     callback(countryCode);
          //   });
          // },
          // hiddenInput: "full_number",
          // initialCountry: "auto",
          // localizedCountries: { 'de': 'Deutschland' },
          // nationalMode: false,
          // onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
          // placeholderNumberType: "MOBILE",
           //preferredCountries: ['ua', 'ru', 'by'],
           //separateDialCode: true,
          //utilsScript: "build/js/utils.js",
    //});

    // var input = document.querySelector(".phone");
    // var  iti = intlTelInput(input,{
    //   initialCountry: "pe"
    // });
    // input.addEventListener("focus", function() {
    //   result.textContent = "";
    // }, false);


    $("#tabs-ul").click(function(){
        let height = $('#tabs-ul').height() + $('.top-banner').height();
        // console.log(height);
        // $("body").animate({scrollTop:height},"slow");
        $(window).scrollTop(height);
    });


    
    
})(jQuery);